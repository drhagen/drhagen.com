{"version": "https://jsonfeed.org/version/1", "title": "David R Hagen", "home_page_url": "https://drhagen.com/", "feed_url": "https://drhagen.com/feed_json_updated.json", "description": "Personal website of David R Hagen, scientific software engineer", "icon": null, "authors": [{"name": "David Hagen"}], "language": "en", "items": [{"id": "https://drhagen.com/blog/excellent-error-messages/", "url": "https://drhagen.com/blog/excellent-error-messages/", "title": "Excellent error messages", "content_html": "<p>Error messages are pervasive throughout programming, yet little has been written on the design of error messages for languages, libraries, and APIs. Much good advice can be found via simple web search on good error messages as shown to end users in GUIs, but standards for error messages intended for an audience of programmers is hard to find. This is not due to a lack of attention to error messages. There are certainly places where error messages are neglected, but neglect is far from universal. In fact, some of the best discussions on good error messages come from specific efforts by big projects to improve their error messages.</p>", "image": null, "date_modified": "2023-03-25T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/the-sort-within-groups-problem/", "url": "https://drhagen.com/blog/the-sort-within-groups-problem/", "title": "The sort-within-groups problem", "content_html": "<p>There is an interesting edge case in data grammars when a grouped data table is sorted by non-group columns. For example, what should the following dplyr code produce?</p>\n<p>```r\nlibrary(dplyr)</p>\n<p>df &lt;- data.frame(\n  group = c(2, 2, 1, 1, 2, 2),\n  value = c(3, 4, 3, 1, 1, 3)\n)</p>\n<p>df %&gt;% group_by(group) %&gt;% arrange(value)\n```</p>", "image": null, "date_modified": "2022-03-06T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/leap-years-something-the-gregorian-calendar-gets-right/", "url": "https://drhagen.com/blog/leap-years-something-the-gregorian-calendar-gets-right/", "title": "Leap Years: Something the Gregorian Calendar Gets Right", "content_html": "<p>Calendars coordinate people with people. It is better to be on vacation the same week your family is also. It is better for kids to be in school the same days as their teachers. It is better to be at work when everyone else is. (Though it is worse to be driving to said work when everyone else is.) In the modern world, it can be easy to think that coordinating people with people is all calendars do. If that were all, we could certainly do with a much simpler calendar\u20144 weeks to a month, 12 months to a year, no leap days, no irregularities forever. I won't argue that it couldn't be simpler, but I will argue that it cannot be perfectly simple. Because calendars also coordinate people with nature.</p>", "image": null, "date_modified": "2020-02-29T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/finally-a-synthetic-organism-that-worries-me/", "url": "https://drhagen.com/blog/finally-a-synthetic-organism-that-worries-me/", "title": "Finally, a synthetic organism that worries me", "content_html": "<p>It was <a href=\"https://arstechnica.com/science/2019/01/re-engineering-photosynthesis-gives-plants-a-40-growth-boost/\">recently in the news</a> that researchers have genetically engineered tobacco with 40% more efficient photosynthesis. I had first seen this kind of research at a seminar during my graduate years at MIT. The presenter noted that the genetically engineered plants grew faster and showed memorable side-by-side pictures of scrawny-looking normal plants next to their larger and lusher engineered brothers. I tried to find out more after the fact, but had forgotten the name of the presenter and lab. When I searched online for the research, I found lots of people proposing doing this kind of thing, but not the lush success story I had just seen. I wanted to learn more not because it was super cool and hugely important (which it was), but because it was the first (and to date only) example of what I thought was a dangerous genetically modified organism.</p>", "image": null, "date_modified": "2019-01-06T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/multidimensional-pairing-functions/", "url": "https://drhagen.com/blog/multidimensional-pairing-functions/", "title": "Multidimensional Pairing Functions", "content_html": "<p>In the <a href=\"../2018-03-27-superior-pairing-function/index.md\">previous post</a>, I compared ways to take two infinite streams and generate a new stream that is all possible combinations of the elements in those streams. This post takes it up another level and generalizes this procedure to an arbitrarily long list of infinite streams. This is a trickier task than the 2-dimensional case, utilizing recursion into each dimension to cleanly generate all combinations.</p>\n<p>Throughout this post, the caret <code>^</code>\u00a0will indicate exponentiation and parentheses <code>list(index)</code>\u00a0will be used to indicate indexing a list. As before, 0-indexing will be used because it makes the math simpler.\u00a0</p>", "image": null, "date_modified": "2018-12-10T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/superior-pairing-function/", "url": "https://drhagen.com/blog/superior-pairing-function/", "title": "Superior Pairing Function", "content_html": "<p>Given two sequences of objects, it is often desirable to generate a sequence which is all possible pairwise combinations of those sequences\u2014the Cartesian product. If the sequences are finite in length, then it is a trivial function to write in any programming language. The function even exists in many standard libraries and packages, such as <code>itertools.product</code>\u00a0in Python. But if the sequences are infinite in length (that is, they are streams rather than arrays, depending on your terminology), the typical approach fails. Finding a way to iterate over all pairs of two infinitely long sequences is called a \"pairing function\" in mathematics and has practical uses. There are some existing pairing functions, but many have limitations. I describe the properties of a superior pairing function and a couple of methods that satisfy them.</p>", "image": null, "date_modified": "2018-03-27T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/ready-for-a-national-id/", "url": "https://drhagen.com/blog/ready-for-a-national-id/", "title": "Ready for a National ID", "content_html": "<p>When <a href=\"https://www.cnet.com/news/yahoo-500-million-accounts-hacked-data-breach/\">Yahoo was hacked</a>, we threw away our passwords and got new ones. When <a href=\"https://bgr.com/2014/03/13/target-data-hack-how-it-happened/\">Target was hacked</a>, we threw away our credit cards and got new ones. Now that <a href=\"https://arstechnica.com/information-technology/2017/09/equifax-website-hack-exposes-data-for-143-million-us-consumers/\">Equifax has been hacked</a>, we'll have to throw out our social security cards and get new ones. Alas, such a thing is not currently possible, and that's a big problem. It's not that we shouldn't have a national ID number. A robust credit system requires (1) a standardized system to identify who owes what so the government knows whose stuff to take if a debt is not paid and (2) a standardized system for recording past and current credit so that borrowers can support their creditworthiness. It was point (2) that got hacked, but it was the design of point (1) that makes the hack such a big problem. The social security number (SSN) is poorly suited for its role. As long as the SSN is both the account number and the unchangeable password for all our financial instruments, we will endure costly and rampant fraud. Just as the size of the Target hack forced the US to finally <a href=\"https://www.npr.org/sections/alltechconsidered/2014/01/23/264910138/target-hack-a-tipping-point-in-moving-away-from-magnetic-stripes\">rethink credit card security</a>, the size of the Equifax hack should force us to rethink our national ID security.</p>", "image": null, "date_modified": "2017-09-24T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/the-sanctification-button/", "url": "https://drhagen.com/blog/the-sanctification-button/", "title": "The Sanctification Button", "content_html": "<p>I have a browser extension installed on my work laptop that blocks my access to Reddit, Facebook, and other news and social media sites. My employer didn't install it; I did. I have the same extension installed at home, albeit blocking a more limited set of time-wasting sites. On its face, setting up a system that does nothing but restrict my future options seems like a waste of time. Wouldn't it be easier just to choose to not visit those sites at imprudent times? In theory, sure. But I don't trust my future self, and restraint is taxing. I'd have trouble explaining why. Admittedly it's weird, but I think I can assume that you, dear human reader, at least understand\u00a0where I am coming from, regardless of how much you rely on such things yourself. In behavioral economics, we call these kinds of mechanisms \"precommitments\". Odysseus bound himself to the mast before sailing past\u00a0the Sirens. Gamblers leave behind their checkbooks and credit cards before a casino vacation. I am one of many who find it prudent to\u00a0occasionally bind my future actions, restrict my future options, or simply nudge my older self in a certain\u00a0direction. There remain plenty of mistakes that I would like to prevent, but for which there is no mechanism to preempt. Inevitably, technology will improve; new products will become available. Some of these, like the browser blocker, will be increasingly capable precommittment tools. How far should you\u00a0go with this? Artificial intelligence combined with cybernetics could make any undesirable behavior potentially preemptable. Leaving aside the technical difficulties, if you could not only end your ability to lie, cheat, and steal, but also gossip and insult, should you?\u00a0Taken to its extreme, if there were a button that removed your ability to sin, would you push it?</p>", "image": null, "date_modified": "2017-03-26T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/marginal-vs-conditional-subtyping/", "url": "https://drhagen.com/blog/marginal-vs-conditional-subtyping/", "title": "Marginal vs. Conditional Subtyping", "content_html": "<p>In computer programming, a type is a just a set of objects\u2014not a physical set of objects in memory, but a conceptual set of objects. The type <code>Integer</code>\u00a0is the set <code>{0, 1, -1, ...}</code>. Types are used to reason about the correctness of programs.\u00a0A function that accepts an argument of type <code>Integer</code>, will work for any\u00a0value <code>0</code>, <code>1</code>, <code>-1</code>, etc.,\u00a0for some definition of \"works\". Subtyping is used to define relationships between types. Type <code>B</code>\u00a0is a subset of a type <code>A</code>\u00a0if the set of objects defined by <code>B</code>\u00a0is a subset of the objects defined by <code>A</code>. Every function that works on an instance of <code>A</code>\u00a0also works on an instance of <code>B</code>, for some definition of \"works\". If we were just doing math, subsets\u00a0would be the end of subtyping. But types as pure sets exist only conceptually. Actual\u00a0types must be concretely defined. It is not very efficient to define the <code>Integer</code>\u00a0class by writing all possible <code>Integer</code>s! In most programs, the possible values of a type are constrained\u00a0by their fields. Subtypes and supertypes typically differ by having more or fewer\u00a0fields than the other. Sometimes, the subtype has more fields, and sometimes, the supertype has more fields. Many\u00a0of you may be thinking, \"What? It's always one way, not the other!\" The funny thing is that some\u00a0of you think the subtype always has more fields and others think the supertype always has more fields. That's because there are two kinds of subtyping. The first is what I call \"marginal subtyping\", which is encountered in application programming and is well modeled by inheritance. The second is what I call \"conditional subtyping\", which is encountered\u00a0in mathematical programming and is well modeled by implicit conversions. Depending on the genre of programming you work in, the other kind of subtyping may be unknown and the language features needed to implement it\u00a0may be\u00a0maligned. But both needs\u00a0are real and both features are necessary.</p>", "image": null, "date_modified": "2016-06-10T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/the-missing-23rd-of-the-month/", "url": "https://drhagen.com/blog/the-missing-23rd-of-the-month/", "title": "The Missing 23rd of the Month", "content_html": "<p>Previously, I explained\u00a0why the <a href=\"../2015-12-29-the-missing-11th-of-the-month/index.md\">11th of most months is\u00a0mentioned far less than the other days</a> in the Google Ngrams database of English literature from 1800-2008. This was to solve a\u00a0long-standing question posed in an\u00a0<a href=\"https://xkcd.com/1140/\">xkcd comic</a>. While researching this, I encountered another mystery: the 2nd, 3rd, 22nd, and 23rd are unusually\u00a0low as well\u2014but only until the 1930s, at which point they become perfectly normal days. Last time, I set this question aside to focus on the 11th.\u00a0In this installment, I explain\u00a0the strange behavior of these\u00a0four\u00a0days.</p>", "image": null, "date_modified": "2016-01-02T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/the-missing-11th-of-the-month/", "url": "https://drhagen.com/blog/the-missing-11th-of-the-month/", "title": "The Missing 11th of the Month", "content_html": "<figure markdown=\"span\">\n    ![In months other than September, the 11th is mentioned substantially less often than any other date. It's been that way since long before 9/11 and I have no idea why.](images/calendar_of_meaningful_dates_light.png#only-light)\n    ![In months other than September, the 11th is mentioned substantially less often than any other date. It's been that way since long before 9/11 and I have no idea why.](images/calendar_of_meaningful_dates_dark.png#only-dark)\n    Source [xkcd](https://xkcd.com/1140/). Image licensed under [CC-BY-NC](https://creativecommons.org/licenses/by-nc/2.5/).\n</figure>\n\n<p>On November 28th, 2012, Randall Munroe published <a href=\"https://xkcd.com/1140/\">an xkcd\u00a0comic</a>\u00a0that was\u00a0a calendar in which\u00a0the size of each date was\u00a0proportional to\u00a0how often each date is referenced by its ordinal name\u00a0(e.g. \"October 14th\") in the <a href=\"https://books.google.com/ngrams\">Google Ngrams database</a> since 2000. Most of the large\u00a0days are pretty much what you would expect:\u00a0<a href=\"https://en.wikipedia.org/wiki/Independence_Day_(United_States)\">July 4th</a>, <a href=\"https://en.wikipedia.org/wiki/Christmas\">December 25th</a>, the 1st of every month, the last day of most months, and of course a <a href=\"https://en.wikipedia.org/wiki/September_11_attacks\">September 11th</a> that shoves\u00a0its neighbors\u00a0into the margins. There are not many days that seem to be smaller than the typical size. <a href=\"https://en.wikipedia.org/wiki/Leap_year\">February 29th</a> is a tiny speck, for instance. But if\u00a0you stare at the comic\u00a0long enough, you may get the impression that the 11th of most\u00a0months is unusually small. The title\u00a0text of the comic concurs, reading \"In months other than September, the 11th is mentioned substantially less often than any other date. It's been that way since long before 9/11 and I have no idea why.\" After digging into the raw data, I believe I have figured out why.</p>", "image": null, "date_modified": "2015-12-29T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/sane-equality/", "url": "https://drhagen.com/blog/sane-equality/", "title": "Sane Equality", "content_html": "<p>Equality: every programming language has it, the <code>==</code>\u00a0syntax is as universal as <code>1+1</code>, and it works almost the same in every language.\u00a0When the left and right operands are the same type, equality is easy. No one questions that <code>1==1</code> evaluates to <code>true</code> or that <code>\"a\"==\"b\"</code> evaluates to <code>false</code>. This post is about what to do when the operands are different types. What should <code>1==\"1\"</code> be? Or what should <code>Circle(1,2,2)==Point(1,2)</code> be? Or what should <code>ColoredPoint(1,2,red)==Point(1,2)</code> be?</p>", "image": null, "date_modified": "2015-09-14T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/when-sequences-go-bad/", "url": "https://drhagen.com/blog/when-sequences-go-bad/", "title": "When Sequences Go Bad", "content_html": "<p>In my <a href=\"../2015-05-09-one-sided-debate-over-sequence-syntax/index.md\">last post</a>, I talked about the\u00a0various kinds of syntax for getting and setting elements in sequences. This post will talk about semantics.\u00a0What exactly should <code>get</code>\u00a0and <code>mutate</code>\u00a0do when invoked?\u00a0What should happen when the index is valid is hopefully obvious. But because we have to handle the case of an invalid index\u2014in particular, an\u00a0index larger than the length of the sequence, the answer is not as clear-cut as it may seem.\u00a0If \"throw an exception\" is the only thing that comes to mind, you have been stuck in\u00a0procedural programming for too long.</p>", "image": null, "date_modified": "2015-09-04T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/one-sided-debate-over-sequence-syntax/", "url": "https://drhagen.com/blog/one-sided-debate-over-sequence-syntax/", "title": "One-Sided Debate over Sequence Syntax", "content_html": "<p>Computers are <a href=\"https://www.benshoemate.com/2008/11/30/einstein-never-said-that/\">famously stupid machines</a>. You have to tell them in perfect detail not just what you want them to do but how to do it. A computer may be able to add 1 and 2 faster than I can, but it will take me longer to tell it to do that\u00a0than for me to do it myself. The more complex the task, the more time it takes to code. Coding is still laborious and entirely not worth it unless such code will be used many times. I posit that a computer is only useful for doing work when the vast majority of the work to be done is repetitive tasks on simple objects. The most common abstraction for representing a bunch of objects is the sequence (also known as\u00a0a\u00a0list or array), in which each object in the collection is associated with an\u00a0integer called its index.\u00a0There is a wide diversity of syntax and semantics for accessing and changing sequences.</p>", "image": null, "date_modified": "2015-05-09T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/difficulty-of-pattern-matching-syntax/", "url": "https://drhagen.com/blog/difficulty-of-pattern-matching-syntax/", "title": "Difficulty of Pattern Matching Syntax", "content_html": "<p>Pattern matching is compact syntax, originating in functional programming languages, that acts\u00a0a super-charged switch statement, allowing one to concisely branch on the types and components\u00a0of a value\u00a0of interest. Like a traditional switch statement, a pattern match takes a single object and compares it to sequence of cases, running the code body associated with the matching case. There are many parts to a pattern matcher. and design concise and unambiguous syntax is a difficult endeavor, one failed by many popular\u00a0programming languages.</p>", "image": null, "date_modified": "2015-03-07T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/free-star-wars-for-everyone/", "url": "https://drhagen.com/blog/free-star-wars-for-everyone/", "title": "Free Star Wars for Everyone", "content_html": "<p>You got a robotic vacuum cleaner for Christmas. It is the cutest little thing\u2014circling around the room, diligently picking up confetti from the New Years Eve party the night before.\u00a0You just can't let all that cuteness go to waste. So you record the whole cycle on your phone\u2014the whole two hours and twenty minutes\u2014and post it to your Youtube channel. You have 5 subscribers, all spam bots. Your\u00a0video goes\u00a0on to get a million views because the pet name you gave to the vacuum matches the name of an politician recently embroiled in scandal, making \"&lt;politician's name&gt; Cleans House\" accidental\u00a0clickbait.</p>", "image": null, "date_modified": "2015-02-21T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/comparison-of-iteration-styles-in-programming/", "url": "https://drhagen.com/blog/comparison-of-iteration-styles-in-programming/", "title": "Comparison of Iteration Styles in Programming", "content_html": "<p>It is difficult to overstate the importance of iteration in programming\u2014the process performing an operation on each element of a list. I would rank only variable assignment, functions calling, and branching as more\u00a0important. Unlike the <code>if</code> statement, which is essentially the same in every language, the semantics of the <code>for</code> loop varies across languages. Mainly for my own future reference, this post compares\u00a0the various styles of iteration that I have come across. The examples are in pseudo code which is the only way to write so many different iteration styles under\u00a0similar\u00a0syntax. Each of the examples is trying to do the same thing: print out each element of a list called <code>list</code>.</p>", "image": null, "date_modified": "2014-12-29T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/the-electoral-jury/", "url": "https://drhagen.com/blog/the-electoral-jury/", "title": "The Electoral Jury", "content_html": "<p>How much time to do you spend figuring out how you should vote? A few hours? A few minutes? Any time at all? I could not find a study that measured the average time that voters spend researching their candidates, but I did find that <a href=\"https://www.economist.com/blogs/buttonwood/2012/01/economics-irrationality\">three quarters of Americans do not know how long a senator's term is</a>. Perhaps an average voter reads the blurbs in the local newspaper, listens to some soundbites on the news about each candidate, and watches a myriad of television ads. Does he read each candidate's website? If not, this is like owning a bagel shop and hiring a manager without reading his resume. Imagine a bagel shop where all employees are hired with the same consideration that the average voter gives to political candidates. Such a shop would operate with the legendary efficiency and effectiveness of a DMV.</p>", "image": null, "date_modified": "2014-02-05T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/trial-by-jury-omnibus/", "url": "https://drhagen.com/blog/trial-by-jury-omnibus/", "title": "Trial by Jury: Omnibus", "content_html": "<p>Here is a collection of short thoughts from my time as a juror.</p>", "image": null, "date_modified": "2013-12-23T00:00:00+00:00", "authors": [], "tags": null}, {"id": "https://drhagen.com/blog/trial-by-jury-keep-the-jury-eliminate-the-trial/", "url": "https://drhagen.com/blog/trial-by-jury-keep-the-jury-eliminate-the-trial/", "title": "Trial by Jury: Keep the Jury, Eliminate the Trial", "content_html": "<p><a href=\"../2013-12-21-trial-by-jury-just-give-us-the-facts/index.md\">Yesterday</a>, I made a simple argument for handing the jurors the facts that are not in dispute at the beginning of the trial. I want to extend that argument a bit further to a more expansive idea that I have. Rather than just giving the undisputed facts to the jurors, why not boil the entire trial down to its text and give it to the jury as a kind of case study. All of the questions asked in the trial are already in multiple depositions. If a witness gives an answer that is different from the deposition, the deposition is brought out and read. Why not deliver all the evidence to the jury in writing? I can read faster than I can listen, and importantly, I can alter my pace as needed.</p>", "image": null, "date_modified": "2013-12-22T00:00:00+00:00", "authors": [], "tags": null}]}